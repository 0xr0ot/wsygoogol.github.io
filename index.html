<!doctype html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="一半技术 一半生活">
<meta property="og:type" content="website">
<meta property="og:title" content="SY0U&#39;s Blog">
<meta property="og:url" content="http://wsygoogol.github.io/index.html">
<meta property="og:site_name" content="SY0U&#39;s Blog">
<meta property="og:description" content="一半技术 一半生活">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SY0U&#39;s Blog">
<meta name="twitter:description" content="一半技术 一半生活">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wsygoogol.github.io/"/>





  <title>SY0U's Blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SY0U's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wsygoogol.github.io/2017/06/29/Spring-Boot框架SPEL表达式注入漏洞/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SY0U">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SY0U's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/29/Spring-Boot框架SPEL表达式注入漏洞/" itemprop="url">Spring Boot框架SPEL表达式注入漏洞</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-29T15:42:14+08:00">
                2017-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>pring是2003年兴起的轻量级Java开发框架。任何Java应用都可以使用该框架的核心特性，在Java EE平台之上有可用于构建Web应用的扩展。Spring Boot是Spring 的一个核心子项目，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置国内包括百度、阿里巴巴、腾讯等诸多知名企业都在使用该框架。<br>最近Spring Boot框架的SpEL表达式注入通用漏洞曝光，利用该漏洞，远程攻击者在服务器上可执行任意命令。</p>
<h4 id="受影响的版本"><a href="#受影响的版本" class="headerlink" title="受影响的版本"></a>受影响的版本</h4><p>Spring Boot 1.1 1.2 1.3.0版本</p>
<h4 id="不受影响的版本"><a href="#不受影响的版本" class="headerlink" title="不受影响的版本"></a>不受影响的版本</h4><p>Spring Boot 1.3.1及以上版本</p>
<h4 id="漏洞分析"><a href="#漏洞分析" class="headerlink" title="漏洞分析"></a>漏洞分析</h4><p>以下是官方给的漏洞说明：<br><img src="/upload_image/3.png" alt=""><br>查看spring boot1.3.0的源文件ErrorMvcAutoConfiguration.java，发现出问题的地方主要在SpelView类中：<br><img src="/upload_image/4.png" alt=""><br>经过分析得知在用户采用了Spring Boot启动Spring MVC项目后Spring Boot的默认异常模板在处理异常信息的时候递归解析SPEL表达式，可导致SPEL表达式注入并执行。主要问题是SpelView类中会对路径中或者名字中含有的表达式递归解析，所以在1.3.1修复时添加了NonRecursivePropertyPlaceholderHelper类，防止递归解析路径中或者名字中含有的表达式。</p>
<h4 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h4><p>利用此漏洞，只需在SpringMVC的Controller中的参数触发一个异常，异常信息带有SPEL表达式就可以注入了。<br>POC：<br><a href="http://localhost:8555/test.php?id=${new%20java.lang.String(new%20byte[]{78,115,102,111,99,117,115})}" target="_blank" rel="external">http://localhost:8555/test.php?id=${new%20java.lang.String(new%20byte[]{78,115,102,111,99,117,115})}</a><br>漏洞证明：<br><img src="/upload_image/5.png" alt=""><br>利用表达式成功创建了字符串Nsfocus.</p>
<h4 id="补丁分析"><a href="#补丁分析" class="headerlink" title="补丁分析"></a>补丁分析</h4><p>从spring-boot的github的项目中可以看到，这个漏洞是在这个commit中修复的：<br><a href="https://github.com/spring-projects/spring-boot/commit/edb16a13ee33e62b046730a47843cb5dc92054e6" target="_blank" rel="external">https://github.com/spring-projects/spring-boot/commit/edb16a13ee33e62b046730a47843cb5dc92054e6</a><br>在修复的log里可以看到存着漏洞的1.3.0和1.3.1的差别：<br><img src="/upload_image/6.png" alt=""><br>1.3.1创建了NonRecursivePropertyPlaceholderHelper类，防止递归解析路径中或者名字中含有的表达式。</p>
<h4 id="修复方法"><a href="#修复方法" class="headerlink" title="修复方法"></a>修复方法</h4><p>升级Spring Boot版本至1.3.1或以上版本</p>
<h4 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h4><p><a href="http://www.freebuf.com/news/108665.html" target="_blank" rel="external">http://www.freebuf.com/news/108665.html</a><br><a href="http://www.wooyun.org/bugs/wooyun-2010-226888" target="_blank" rel="external">http://www.wooyun.org/bugs/wooyun-2010-226888</a><br><a href="https://github.com/spring-projects/spring-boot/issues/4763" target="_blank" rel="external">https://github.com/spring-projects/spring-boot/issues/4763</a></p>

          
        
      
    </div>


    <div>
          
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wsygoogol.github.io/2017/06/29/面试一年前的自己/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SY0U">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SY0U's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/29/面试一年前的自己/" itemprop="url">面试一年前的自己</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-29T15:20:45+08:00">
                2017-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转自 <a href="http://blog.renren.com/share/110788074/9329803842" target="_blank" rel="external">何巍的日志</a> 一碗不错的鸡汤，看后很有感触，时常拿来读一下。</p>
<h3 id="我在雅虎的面试经历"><a href="#我在雅虎的面试经历" class="headerlink" title="我在雅虎的面试经历"></a>我在雅虎的面试经历</h3><p>我现在还记得，2010年的七月，我在雅虎面试的情景。</p>
<p>雅虎的研发中心是在清华南门外的一座高楼上，我面试的小房间呢，靠着窗户。透过窗户，可以俯瞰美丽的清华园。</p>
<p>一段简短的自我介绍以后，面试官的第一个问题是：你写下快速排序吧。</p>
<p>我脑子一下子懵了，快排是大二时《数据结构》课上学过的，是很基本和经典的算法。可我后来就再也没有用过，需要排序的时候，不是Copy-Paste之前写过的排序代码，就是调用库里的排序函数。我只能记起快排的大致思想了：好像是把数组分成两段，然后再…Oh, Damn!</p>
<p>吭哧了半天，手心都是汗，最后终于写出来了，花了接近二十分钟，当我沮丧地让面试官看我涂涂改改后的代码时，我甚至都不敢确定我写的是“快排”，还是别的什么。</p>
<p>我自然知道面试官的原意：先出一道简单的题，让我很快、很轻松地写出，缓解下紧张的情绪，然后再由易至难。可是，我把这一切从开始就弄砸了。</p>
<p>面试官问我：你知道TLB吧？</p>
<p>我：嗯，知道。</p>
<p>面试官：你说说它的原理：</p>
<p>我(嘀咕着、极小声地、不确定地)：好像和缓存有关吧？？</p>
<p>(心里想着：我上学期学体系结构的时候学过TLB，期末考试前还复习过，考完试后早忘记了。现在又不是期末考试前，我怎么可能还记得住，呜呜…)</p>
<p>面试官：知道段页式存储管理吧？</p>
<p>我：嗯，知道。</p>
<p>面试官：解释下(他递给我一张纸，说你在纸上比划下)</p>
<p>我：…</p>
<p>(心里想着：上学期学《操作系统》的时候我还写过一个操作系统，里面用的就是段页式存储管理。当时还是很明白的东西，怎么才过半年就想不起来了！！)</p>
<p>面试官(很无语、可能抱着最后的一丝希望)：数据库三范式你总知道吧？</p>
<p>我：学过，可是…</p>
<p>面试的结果可想而知。</p>
<p>当我临走的时候，我很不忿地问面试官：我做过一些项目，写过很多代码，你为什么不去问这些项目的经历，或者具体的技术，而是问这些课堂里学过的，可是根本用不到的基础知识？</p>
<p>那个雅虎的面试官，看了看我，给了我一个我这辈子都不会忘记的答案：</p>
<p>你们学校里的做过的那些项目，用过的那些技术，从工业界的角度来看，是小打小闹。你们入职后，技术上都是要重新培训的。而我现在想评估你，只能通过你在学校里学过的基础知识。你作为一个在校的学生，如果这些基础知识你都掌握不好，你说服不了我去雇佣你。</p>
<h3 id="我的简历-Vs-找实习的结果"><a href="#我的简历-Vs-找实习的结果" class="headerlink" title="我的简历 Vs. 找实习的结果"></a>我的简历 Vs. 找实习的结果</h3><p>那时的我的简历是这样的：</p>
<p>清华大学的在读学生，大一、大二、大三学业成绩年级前三，年年奖学金，大二开始进入实验室，到那时已经参加了三个科研项目，并且即将投出人生中的第一篇论文，四、六级都是640左右的成绩。</p>
<p>我自信满满，我以为这是一份很完美无缺的简历，我以为我的同龄人不可能有比我更棒的履历表。</p>
<p>可是，我错了。2010年的夏天，是我第一次去找实习，第一次拿在象牙塔里学到的知识去接受现实社会的考量。我大约面试了六、七家公司吧，被除了IBM以外的所有公司都拒绝了。</p>
<p>拒掉我的公司包括：雅虎、搜狐、网易、创新工场、浪潮…</p>
<p>在最初的一段日子里，我很不解，很疑虑：为什么这样一份看着很棒的简历却不能得到公司的认同？公司里既然不认可我的价值，那么它需要和认可什么样的人才？</p>
<p>很庆幸的是，从那个夏天开始的一年时间里，我有幸先后在IBM和微软两家伟大的公司实习，在顾明老师的指导下完成了一次工作量很大，也非常有收获的毕业设计。这三件事中的每一件，对我来说，都是莫大的挑战，都给了我的认知以全新的甚至是颠覆性的冲击。我对于一年前自己不解的问题逐渐有了更明晰的认识。</p>
<p>现在，当我回首去年夏天的经历的时候，我会毫不犹豫地做出那个雅虎的工程师同样的决定：</p>
<pre><code>如果现在的我去面试一年前的我，我不会去雇佣自己！
</code></pre><p>这就是进步。</p>
<p>在传奇的清华园里，如果横向地看，我只是一个极普通的学生，比起周遭的老师、同学，取得的成绩不值得一提，我更是时常惶恐不安，生怕自己将来能力有限，贡献不大，对不起身上贴着“清华”这个金色的标签。但如果纵向地去看，我能感觉到自己的进步，能感觉到自己成长和探索的步伐。这对于我来说，足以让我内心欣喜和宁静。</p>
<h3 id="我只有学分绩，没有能力"><a href="#我只有学分绩，没有能力" class="headerlink" title="我只有学分绩，没有能力"></a>我只有学分绩，没有能力</h3><p>和园子里的大多数的同学一样，我也是那种在中学的校园里的“尖子”。那时候，似乎有了成绩就有了一切，老师会表扬，同学会羡慕，全校性的集会上会经常有发言的机会，各种的奖励，甚至课间都会有邻班的小女生跑着送来表达爱慕的纸条。</p>
<p>于是，这种思维很自然而然地延续到了我的大学阶段。我每天都在自习室和图书馆里，我想把成绩弄得很高，我依然觉得，有了成绩就会有了一切。</p>
<p>我记得小时候经常写议论文，时常提起的一个话题就是“高分低能”，我记得我写起这个话题，每次都慷慨激昂，痛斥那些在应试教育的体制下培养出的“高分低能”的畸形。可是作文谁都会写，道理谁都会讲。所谓的“高分低能”，那时候，只是说说而已。直到找实习时的碰壁，我才真切意识到，原来议论了这么多年的“高分低能”的人，其实就是自己。</p>
<p>我和学校的老板、公司的老板多次谈过这个话题，现在终于明白：当一个老板考虑是否雇佣你的时候，他不会去在乎你的GPA，不会去在乎你得过的奖学金、他甚至不去关心你做过的社会工作和你参加过的那些项目。他唯一在乎的，就是你的能力和潜能，这决定了你的价值，决定了你可能为公司、为社会创造的价值。</p>
<p>我终于明白：当我们走出象牙塔，踏入社会的时候，我们的核心竞争力，早已不再是成绩，而是能力。</p>
<p>这就是那个雅虎的工程师不愿意雇佣我的原因：我只有学分绩、没有能力。</p>
<p>试想一下，在你的面前有这样的一位求职者：他学过C++，学过JAVA，用过Eclipse和Visual Studio。他写过MFC的程序，也写过JAVA的程序，完成过课堂作业，写过的代码加起来也有几万行吧。可是你和他都明白，这些代码，大都是学生的“自娱自乐”，离工业级的代码相差太远。他学过算法和数据结构，却写个快排算法都吃力。他学过体系结构，却讲不出TLB和段页式存储管理。他学过数据库，却记不起三范式。</p>
<p>虽然他是清华的学生，虽然他的学分绩很高，虽然他还得过奖学金什么的，可是你愿意去相信他有成为一名优秀的软件工程师的能力和潜力吗？你愿意为了他身上这些种种光鲜的“标签”而雇佣他吗？</p>
<p>答案不言自明。</p>
<p>只有能力才能证明自己，只有能力才能创造价值。</p>
<h3 id="我学过计算机专业的核心课吗？"><a href="#我学过计算机专业的核心课吗？" class="headerlink" title="我学过计算机专业的核心课吗？"></a>我学过计算机专业的核心课吗？</h3><p>这个问题似乎很可笑，我都是清华大学研究生一年级的学生呢。早在本科阶段，那些专业核心课，比如操作系统、数据库、算法、计算机网络、编译原理、体系结构都学过了。</p>
<p>而且呢，不仅仅是学过，我还考过很高的成绩呢。呃，我不一一地列举了。写这篇文章的目的本来就是反思，而绝非炫耀。</p>
<p>可是，既然这些计算机专业的核心课我都学过，而且几乎门门都是前10%的成绩，为什么我在雅虎的面试里还表现得像一无所知的儿童一样呢？</p>
<p>我想起了一件事，我学的这些核心课用到的教材几乎都是学校里的书店里淘到二手书。这些书，大都是我的师兄师姐用过的，书里还有他们当时的笔记和圈圈画画。为什么他们会把这些无价的、本该阅读一辈子的书，以一折两折的低价卖给书店呢？我想，肯定不会是这些师兄师姐们都转行去学金融了吧。</p>
<p>我想起了我学过的计算机网络和编译原理这两门课，是的，我都考了99分，是年级第一。可是那些经典的教材，Tanenbaum那本厚厚的《计算机网络》和久负盛名的编译原理龙书，我看过多少，大约15%都不到吧？</p>
<p>理解了多少？估计5%都不到吧，稍微理解多一点也不至于在雅虎面试中表现得那么差。</p>
<p>这些书，这些计算机专业的核心课程，在考试结束之后，就该束之高阁了吗？</p>
<p>今年春天，我在微软做Visual Studio的插件开发，需要用到编译原理里的词法分析、语法分析的知识。我现在还清楚地记得，当我重新学习词法分析和语法分析，学习LR文法时，我看“龙书”的感觉同一个新手无二！</p>
<p>想想真讽刺，这就是我华丽丽地考了99分的计算机专业的核心课。</p>
<p>这些计算机专业的核心课，我都学过。可是从某种意义上来说，我又都没有学过，或者说，学习的过程，不应该随着课程的结束，本科的结束，或者学生时代的结束而停止。这些经典的教材，是需要常读常新的，“温故知新”的过程，理应贯穿整个学生时代和职业生涯。</p>
<h3 id="清华的学生为什么不考证？"><a href="#清华的学生为什么不考证？" class="headerlink" title="清华的学生为什么不考证？"></a>清华的学生为什么不考证？</h3><p>我有很多本科院校相对一般的同学，问起他们在干什么，他们经常告诉我，他们在准备四六级，在考计算机等级证书等等，而且忙得昏天黑地。</p>
<p>可是，在清华的校园里，却没有考证的传统，大部分的同学估计都和我一样，连四、六级都是“裸考”的。我们为什么不像他们那样费尽心机地去考证？</p>
<p>清华给了我们足够的自信，更大的平台和更高的视野，让我们不需要去考那些证书，而可以把时间投入到更宝贵和更值得追求的事上。而且，很功利地说，一张清华大学的毕业证书已经抵过了十张、百张的等级证书。</p>
<p>我们清华的学生为什么不考证？是的，我们不需要去借助那些证书去谋一份好的工作和美好的未来。</p>
<p>换句话说，对于一些普通的工作岗位来说，这些证书或许很值钱。但是对于更高端的工作职位来说，那些证书就没那么有说服力了。这就像你揣着一张计算机等级考试的证书到Google去求职一样可笑。</p>
<p>能靠等级证书找到的工作不会是太好的工作。同样的道理，能靠GPA还有奖学金证书谋到的工作也不会是最好的工作。最好的工作，我们必须而且只能靠能力去说服我们潜在的雇主。</p>
<p>想着我这个年龄时，盖茨在做什么，乔布斯在做什么，想想自己的曾经，还那么迷恋GPA和一些所谓的标签，真真是感到汗颜。16岁的扎克伯格，拒绝了微软95万年薪的工作。当你的能力能证明一切的时候，没有人在乎你的学分绩，没有人在乎你是硕士还是博士还是什么学历都没有。</p>
<p>我想，我应该有这样的志向，靠能力，而不是靠那些所谓的标签，去赢得未来，去为祖国和时代贡献自己的价值。</p>
<h3 id="乔布斯的接力棒"><a href="#乔布斯的接力棒" class="headerlink" title="乔布斯的接力棒"></a>乔布斯的接力棒</h3><p>今天白天的时候，知道了乔布斯去世的消息。我又听了他在Stanford的那次著名的演讲，他在提到自己被苹果公司开除的时候说：</p>
<p>“I felt that I had let the previous generation of entrepreneurs down – that I had dropped the baton as it was being passed to me. ”</p>
<p>如今，乔布斯已经离去了，旧的传奇也在不断老去，新的传奇也在不断地诞生。乔布斯的接力棒(baton)已经传到了我们这一代人的手里。我从不奢望我会是一个改变世界的人物，可是，作为一名未来的IT从业者，我真心地希望能和中国，还有世界上的工程师一样去参与创造和改变这个世界。这是一项最伟大的事业。</p>
<p>我要更努力更有勇气，同乔布斯一样，我也不想让前辈失望。</p>

          
        
      
    </div>


    <div>
          
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wsygoogol.github.io/2017/06/28/Hexo-搭建Blog教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SY0U">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SY0U's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/28/Hexo-搭建Blog教程/" itemprop="url">Hexo 搭建Blog教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-28T19:48:25+08:00">
                2017-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>平时在浏览博客的时候发现好多人喜欢利用Hexo + Github搭建个人博客，正好一直也想搭建一个博客去记录和分享。在此过程中，折腾各种配置花了一些时间，所以详细记录一下遇到的相关问题。</p>
<h3 id="1-安装Git"><a href="#1-安装Git" class="headerlink" title="1.安装Git"></a>1.安装Git</h3><p>下载<a href="https://git-scm.com/download/win" target="_blank" rel="external">git</a>,安装很简单，一路next下去</p>
<h3 id="2-安装Node-js"><a href="#2-安装Node-js" class="headerlink" title="2.安装Node.js"></a>2.安装Node.js</h3><p>下载<a href="https://nodejs.org/en/" target="_blank" rel="external">node.js</a>，安装也是一路next</p>
<h3 id="3-本地搭建hexo博客"><a href="#3-本地搭建hexo博客" class="headerlink" title="3.本地搭建hexo博客"></a>3.本地搭建hexo博客</h3><p>安装hexo<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g hexo-cli</div></pre></td></tr></table></figure></p>
<p>测试hexo是否安装成功<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo version</div></pre></td></tr></table></figure></p>
<p>新建一个文件夹，如MyBlog<br>进入该文件夹内，右击运行git，依次输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ hexo init</div><div class="line">$ npm install</div><div class="line">$ hexo g</div><div class="line">$ hexo s</div></pre></td></tr></table></figure></p>
<p>这时候在浏览器输入<a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 就可以看到hexo已经成功生成了博客，当然这只是我们本地可以看到的</p>
<h3 id="3-Github配置"><a href="#3-Github配置" class="headerlink" title="3.Github配置"></a>3.Github配置</h3><p>登陆github后点击new repository，Repository name填写自己的名称 + .github.io，<br><img src="/upload_image/1.jpg" alt=""><br>直接点Create repository就可以了。</p>
<h3 id="4-配置Github-SSH密钥"><a href="#4-配置Github-SSH密钥" class="headerlink" title="4.配置Github SSH密钥"></a>4.配置Github SSH密钥</h3><p>在桌面空白处鼠标右键选择Git Bash Here<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"your's emaill address"</span></div></pre></td></tr></table></figure></p>
<p>引号里面的内容输入你的邮箱地址，然后回车，会提示你文件保存的路径，按回车键确认<br>然后会提示你输入密码，然后会确认输入一次，就可以在刚刚的路径看到生成了两个文件，一个是id_rsa，另一个是id_rsa.pub，用notepadd++打开id_rsa.pub然后选中里面的全部内容，复制下来。<br>登陆github，点击头像进入setting选项<br><img src="/upload_image/2.jpg" alt=""></p>
<h3 id="5-将hexo博客与Github关联"><a href="#5-将hexo博客与Github关联" class="headerlink" title="5.将hexo博客与Github关联"></a>5.将hexo博客与Github关联</h3><p>修改_config.yml<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  <span class="built_in">type</span>: git</div><div class="line">  repository: http://github.com/yourname/yourname.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure></p>
<p>打开Git bash here<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ hexo g</div><div class="line">$ hexo d</div></pre></td></tr></table></figure></p>
<p>如果出现如下异常<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ERROR Deployer not found: git</div></pre></td></tr></table></figure></p>
<p>输入以下命令，然后重新执行上面两条命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<p>这时候如果弹出一个对话框，输入在guthub上面的用户名和密码即可<br>这时候我们就可以在浏览器输入<a href="http://yourname.github.io（yourname替换成github上的名称）就可以看到博客已经搭建成功了。" target="_blank" rel="external">http://yourname.github.io（yourname替换成github上的名称）就可以看到博客已经搭建成功了。</a></p>
<h3 id="更新博客内容"><a href="#更新博客内容" class="headerlink" title="更新博客内容"></a>更新博客内容</h3><p>在MyBlog目录下执行：hexo new “我的第一篇文章”，会在source-&gt;_posts文件夹内生成一个.md文件。<br>编辑该文件（遵循Markdown规则）<br>修改起始字段<br>title 文章的标题<br>date 创建日期 （文件的创建日期 ）<br>updated 修改日期 （ 文件的修改日期）<br>comments 是否开启评论 true<br>tags 标签<br>categories 分类<br>permalink url中的名字（文件名）<br>编写正文内容（MakeDown）<br>hexo clean 删除本地静态文件（Public目录），可不执行。<br>hexo g 生成本地静态文件（Public目录）<br>hexo deploy 将本地静态文件推送至github（hexo d）</p>
<h4 id="MarkDown语法"><a href="#MarkDown语法" class="headerlink" title="MarkDown语法"></a>MarkDown语法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[hexo](http://www.baidu.com)  表示超链接</div><div class="line"><span class="comment">##大标题</span></div><div class="line"><span class="comment">###小标题</span></div><div class="line">&lt;!-- more --&gt;</div><div class="line">&lt;!-- 标签别名 --&gt;</div><div class="line">&#123;% cq %&#125;blah blah blah&#123;% endcq %&#125;</div><div class="line">空格  中文全角空格表示</div><div class="line">---</div><div class="line">文章标题</div><div class="line">---</div><div class="line">&gt;内容     区块引用</div><div class="line">*1</div><div class="line">*2</div><div class="line">*3</div><div class="line">列表</div><div class="line">*内容*     表示强调内容</div><div class="line">![Alt text](/path/to/img.jpg)  图片</div><div class="line">![](/upload_image/20161012/1.png)</div></pre></td></tr></table></figure>
<blockquote class="blockquote-center">优秀的人，不是不合群，而是他们合群的人里面没有你</blockquote>

          
        
      
    </div>


    <div>
          
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wsygoogol.github.io/2017/06/28/About-the-Blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SY0U">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SY0U's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/28/About-the-Blog/" itemprop="url">About the Blog</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-28T18:54:05+08:00">
                2017-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前的用wordpress + mysql在阿里云搭建了一套博客，域名是( <a href="http://wsygoogol.cn" target="_blank" rel="external">http://wsygoogol.cn</a> )维护成本比较高，被人用扫描器扫一下直接被阿里云下线。加上也懒得去写博客了，域名和主机都因为未续费被回收了。<br>最近两年的漏洞分析和技术分享文章都发在公司博客、公司内网论坛、公司公众号上，比较乱。平时看文章看到好多人都在用Hexo，一直想弄一个，因为一些事情耽搁了，最近试了一下还真不错。就在github上搭一个，虽然由于大家都懂的的原因有点慢。但是流量应该不会太大，需求也没那么多，暂时先用着，如果有需求再迁移吧。<br>我决定用这个博客，记录工作和学习中的踩过的坑，把学到的知识和经验分享出来。我也经常在知乎上回答一些问题，写一些生活的感悟和读书笔记。如果好的，以后也会同步过来。<br>所谓一半技术，一半生活。</p>

          
        
      
    </div>


    <div>
          
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wsygoogol.github.io/2017/06/27/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SY0U">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SY0U's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/27/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-27T19:57:51+08:00">
                2017-06-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>


    <div>
          
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="SY0U" />
          <p class="site-author-name" itemprop="name">SY0U</p>
           
              <p class="site-description motion-element" itemprop="description">一半技术 一半生活</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">Artikel</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SY0U</span>
</div>
<!--

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

-->

        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
